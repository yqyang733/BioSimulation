ğŸ‘ åˆ†å­å¯¹æ¥|Sminaåˆ†å­å¯¹æ¥ä¹‹è‡ªå®šä¹‰ç›’å­åˆ†å­å¯¹æ¥

---
[TOC]

---
## ç¡®å®šå¯¹æ¥ç›’å­
(1) é‡‡ç”¨å£è¢‹è®¡ç®—è½¯ä»¶é¢„æµ‹è›‹ç™½å£è¢‹ç¡®å®šå¯¹æ¥ç›’å­ï¼Œæ ¹æ®å£è¢‹åæ ‡ç”Ÿæˆç›’å­çš„ä¸­å¿ƒä»¥åŠé•¿å®½é«˜ã€‚å‚è€ƒâ€œåˆ†å­å¯¹æ¥|æ ¹æ®D3Pocketsé¢„æµ‹çš„è›‹ç™½å£è¢‹ç”ŸæˆSminaå¯¹æ¥çš„ç›’å­å‚æ•°æ–‡ä»¶â€ã€‚   
(2) æ ¹æ®é…ä½“åæ ‡ç”Ÿæˆç›’å­çš„ä¸­å¿ƒä»¥åŠé•¿å®½é«˜ã€‚  
(3) æ ¹æ®è›‹ç™½åæ ‡ç”Ÿæˆç›’å­çš„ä¸­å¿ƒä»¥åŠé•¿å®½é«˜ã€‚ 
(4) å°†ç›’å­æ–‡ä»¶ä¿å­˜æˆå¦‚ä¸‹çš„conf.txtçš„æ ¼å¼ã€‚   
> center_x = 19  
> center_y = -13  
> center_z = 36  
> size_x = 63  
> size_y = 115  
> size_z = 143  
> num_modes = 10  
> exhaustiveness = 32  

---
## å¯¹æ¥ç›’å­å¯è§†åŒ–
å‚è€ƒâ€œPymolè„šæœ¬|åˆ†å­å¯¹æ¥ç›’å­å¯è§†åŒ–â€   

---
## é…ä½“å‡†å¤‡
(1) é¦–å…ˆç”Ÿæˆå°åˆ†å­çš„3ç»´ç»“æ„mol2æ–‡ä»¶ã€‚ä»¥ä¸‹æ–¹å¼é€‰æ‹©å…¶ä¸€å³å¯ã€‚  
- ChemBio3Dï¼ŒMMFF94åŠ›åœºä¼˜åŒ–ã€‚  
- OpenBabelç”Ÿæˆï¼Œ
- RDKitç”Ÿæˆï¼ŒMMFF94åŠ›åœºä¼˜åŒ–ã€‚  

(2) é‡‡ç”¨mgltools/AudockToolsï¼Œç»™é…ä½“åŠ æ°¢åŠ ç”µè·ï¼Œåˆå¹¶éææ€§æ°¢çš„ç”µè·åˆ°é”®è¿çš„éææ€§ç¢³åŸå­ä¸Šï¼Œåˆ å»éææ€§æ°¢ï¼Œä¿ç•™ææ€§æ°¢ï¼Œç”Ÿæˆé…ä½“çš„pdbqtæ ¼å¼æ–‡ä»¶ï¼ˆè¾“å…¥æ–‡ä»¶ä¸ºmol2ï¼‰ã€‚  
- Linuxä¸ŠCondaå®‰è£…mgltoolsè½¯ä»¶åŒ…
```shell
prepare_ligand4.py -l ${ligand}.mol2 -o ${ligand}.pdbqt
```
- Windowsä¸Šå®‰è£…mgltoolsè½¯ä»¶ï¼Œåœ¨å›¾å½¢ç•Œé¢ä¸­è¾“å…¥mol2æ–‡ä»¶ï¼Œè¾“å‡ºä¿å­˜pdbqtæ–‡ä»¶

## å—ä½“å‡†å¤‡
(1) ç”¨pdb2pqrç»™è›‹ç™½è´¨ï¼ˆpdbæ–‡ä»¶ï¼‰åŠ æ°¢åŠ ç”µè·ï¼Œç”Ÿæˆpqræ–‡ä»¶ï¼Œå†ç”¨mgltoolsåˆå¹¶éææ€§æ°¢ï¼Œç”Ÿæˆå—ä½“çš„pdbqtæ–‡ä»¶ã€‚  
(2) Condaå®‰è£…pdb2pqrè½¯ä»¶åŒ…ï¼Œå°†pdbæ–‡ä»¶ç”Ÿæˆpqræ–‡ä»¶ã€‚   
```shell
pdb2pqr30 --ff=amber --ffout=amber --chain A --with-ph=7 ${receptor}.pdb ${receptor}.pqr
```
(3) mgltoolsåˆå¹¶éææ€§æ°¢ï¼Œç”Ÿæˆå—ä½“çš„pdbqtæ–‡ä»¶ã€‚   
- Linuxä¸ŠCondaå®‰è£…mgltoolsè½¯ä»¶åŒ…
```shell
prepare_receptor4.py -r ${receptor}.pqr -o ${receptor}.pdbqt -C -U nphs_lps_waters_nonstdres
```
- Windowsä¸Šå®‰è£…mgltoolsè½¯ä»¶ï¼Œåœ¨å›¾å½¢ç•Œé¢ä¸­è¾“å…¥pdbæ–‡ä»¶ï¼Œè¾“å‡ºä¿å­˜pdbqtæ–‡ä»¶

## Sminaå¯¹æ¥
```shell
smina --seed 0 --config conf.txt -r ${receptor}.pdbqt -l ${ligand}.pdbqt -o  ${receptor}-${ligand}-result.sdf
```